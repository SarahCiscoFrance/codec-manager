(function(e){function t(t){for(var c,n,l=t[0],s=t[1],r=t[2],u=0,p=[];u<l.length;u++)n=l[u],i[n]&&p.push(i[n][0]),i[n]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,r||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],c=!0,l=1;l<o.length;l++){var s=o[l];0!==i[s]&&(c=!1)}c&&(a.splice(t--,1),e=n(n.s=o[0]))}return e}var c={},i={app:0},a=[];function n(t){if(c[t])return c[t].exports;var o=c[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=c,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var d=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"11fc":function(e,t,o){"use strict";var c=o("ae0b"),i=o.n(c);i.a},"477b":function(e,t,o){"use strict";var c=o("b9ef"),i=o.n(c);i.a},"56d7":function(e,t,o){"use strict";o.r(t);o("744f"),o("6095"),o("6c7b"),o("d25f"),o("7514"),o("20d6"),o("f3e2"),o("1c4c"),o("6762"),o("57e7"),o("2caf"),o("cadf"),o("9865"),o("6d67"),o("e804"),o("0cd8"),o("48f8"),o("759f"),o("55dd"),o("d04f"),o("78ce"),o("8ea5"),o("0298"),o("c8ce"),o("87b3"),o("d92a"),o("217b"),o("7f7f"),o("f400"),o("7f25"),o("536b"),o("d9ab"),o("f9ab"),o("32d7"),o("25c9"),o("9f3c"),o("042e"),o("c7c6"),o("f4ff"),o("049f"),o("7872"),o("a69f"),o("0b21"),o("6c1a"),o("c7c62"),o("84b4"),o("c5f6"),o("2e37"),o("fca0"),o("7cdf"),o("ee1d"),o("b1b1"),o("87f3"),o("9278"),o("5df2"),o("04ff"),o("f751"),o("8478"),o("4504"),o("fee7"),o("1c01"),o("58b2"),o("ffc1"),o("0d6d"),o("9986"),o("8e6e"),o("25db"),o("e4f7"),o("b9a1"),o("64d5"),o("9aea"),o("db97"),o("66c8"),o("57f0"),o("165b"),o("456d"),o("cf6a"),o("fd24"),o("8615"),o("551c"),o("097d"),o("df1b"),o("2397"),o("88ca"),o("ba16"),o("d185"),o("ebde"),o("2d34"),o("f6b3"),o("2251"),o("c698"),o("a19f"),o("9253"),o("9275"),o("3b2b"),o("3846"),o("4917"),o("a481"),o("28a5"),o("386d"),o("6b54"),o("4f7f"),o("8a81"),o("ac4d"),o("8449"),o("9c86"),o("fa83"),o("48c0"),o("a032"),o("aef6"),o("d263"),o("6c37"),o("9ec8"),o("5695"),o("2fdb"),o("d0b0"),o("5df3"),o("b54a"),o("f576"),o("ed50"),o("788d"),o("14b9"),o("f386"),o("f559"),o("1448"),o("673e"),o("242a"),o("4f37"),o("c66f"),o("262f"),o("b05c"),o("34ef"),o("6aa2"),o("15ac"),o("af56"),o("b6e4"),o("9c29"),o("63d9"),o("4dda"),o("10ad"),o("c02b"),o("4795"),o("130f"),o("ac6a"),o("96cf");var c=o("2b0e"),i=o("ce5b"),a=o.n(i);o("bf40"),o("8935");c["default"].use(a.a,{});var n=o("1dce"),l=o.n(n);c["default"].use(l.a);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("app-header"),o("v-content",[o("v-container",{attrs:{fluid:""}},[o("router-view")],1)],1),o("app-footer")],1)},r=[],d=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("v-toolbar",{attrs:{app:"",dark:"",color:"primary"}},[c("v-toolbar-title",{staticClass:"white--text align-center flex"},[c("img",{staticClass:"header-logo",attrs:{src:o("cf05")}}),e._v(" "+e._s(e.title)+"\n  ")]),c("v-spacer"),c("v-toolbar-items",[c("a",{staticClass:"d-flex link-menu",attrs:{target:"_blank",href:e.getURL("15131")}},[c("v-btn",{attrs:{flat:""}},[e._v("People Presence")])],1),c("a",{staticClass:"d-flex link-menu",attrs:{target:"_blank",href:e.getURL("15140")}},[c("v-btn",{attrs:{flat:""}},[e._v("Feedback Meeting")])],1),c("a",{staticClass:"d-flex link-menu",attrs:{target:"_blank",href:e.getURL("15150")}},[c("v-btn",{attrs:{flat:""}},[e._v("Bulk Wallpaper Push")])],1)])],1)},u=[],p={data:function(){return{title:"Codecs Manager"}},methods:{getURL:function(e){return window.location.href.includes("websrv2")?"http://websrv2.ciscofrance.com:"+e:"http://websrv.ciscofrance.com:"+e}}},f=p,v=(o("477b"),o("2877")),m=Object(v["a"])(f,d,u,!1,null,null,null),h=m.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-footer",{attrs:{app:"",height:"auto",color:"primary"}},[o("v-flex",{attrs:{info:"","py-3":"","text-xs-center":"","white--text":"",xs12:""}},[e._v("\n    © 2018 — "),o("strong",[e._v("Cisco Codecs Manager")])])],1)},g=[],x={},y=Object(v["a"])(x,b,g,!1,null,null,null),C=y.exports,_={data:function(){return{title:"Codecs Manager"}},components:{appHeader:h,appFooter:C}},w=_,k=Object(v["a"])(w,s,r,!1,null,null,null),$=k.exports,D=o("8c4f"),P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[o("v-flex",{attrs:{xs12:""}},[o("app-codec-grid"),o("v-btn",{staticStyle:{"margin-top":"65px"},attrs:{fixed:"",dark:"",fab:"",top:"",right:"",color:"success"},on:{click:function(t){e.showDialogAdd=!0}}},[o("v-icon",[e._v("add")])],1),o("v-btn",{staticStyle:{"margin-top":"130px"},attrs:{fixed:"",dark:"",fab:"",top:"",right:"",color:"red"},on:{click:function(t){e.showDialogLive=!0}}},[o("v-icon",[e._v("cast")])],1),o("v-dialog",{attrs:{"max-width":"450"},model:{value:e.showDialogAdd,callback:function(t){e.showDialogAdd=t},expression:"showDialogAdd"}},[o("app-codec-add",{on:{closeDialog:function(t){e.showDialogAdd=!1}}})],1),o("v-dialog",{attrs:{"max-width":"1000"},model:{value:e.showDialogLive,callback:function(t){e.showDialogLive=t},expression:"showDialogLive"}},[o("app-codec-live",{on:{closeDialog:function(t){e.showDialogLive=!1}}})],1)],1)],1)],1)},q=[],S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.codecs?o("v-expansion-panel",{attrs:{popout:""}},[e._l(e.codecs,function(t){return o("v-expansion-panel-content",{key:t._id,staticClass:"pa-2 elevation-1"},[o("div",{staticClass:"title",class:{"red--text":t.error},attrs:{slot:"header"},slot:"header"},[t.cloud?o("i",{staticClass:"fas fa-cloud",staticStyle:{"margin-right":"10px"}}):o("i",{staticClass:"fas fa-building",staticStyle:{"margin-right":"10px"}}),e._v("\n      "+e._s(t.name)+"\n    ")]),o("app-codec-details",{staticClass:"ml-4 mr-4",attrs:{codec:t}}),o("v-layout",{attrs:{"justify-center":""}},[o("v-btn",{staticClass:"mb-3",attrs:{fab:"",dark:"",color:"teal"},on:{click:function(o){e.editCodec(t)}}},[o("v-icon",{attrs:{dark:""}},[e._v("edit")])],1),o("v-btn",{staticClass:"mb-3",attrs:{fab:"",dark:"",color:"orange"},on:{click:function(o){e.deleteCodec(t)}}},[o("v-icon",{attrs:{dark:""}},[e._v("delete")])],1),o("v-btn",{attrs:{dark:"",fab:"",color:"info"},on:{click:function(o){e.uploadZip(t)}}},[o("v-icon",[e._v("unarchive")])],1),o("v-btn",{staticClass:"mb-3",attrs:{fab:"",dark:"",color:"error"},on:{click:function(o){e.shutdownCodec(t)}}},[o("v-icon",{attrs:{dark:""}},[e._v("mdi-power")])],1)],1)],1)}),o("v-dialog",{attrs:{"max-width":"450"},model:{value:e.showDialogEdit,callback:function(t){e.showDialogEdit=t},expression:"showDialogEdit"}},[o("app-codec-edit",{attrs:{codec:e.codecSelected},on:{closeDialog:function(t){e.showDialogEdit=!1}}})],1),o("v-dialog",{attrs:{"max-width":"400"},model:{value:e.showDialogDelete,callback:function(t){e.showDialogDelete=t},expression:"showDialogDelete"}},[o("app-codec-delete",{attrs:{codec:e.codecSelected},on:{closeDialog:function(t){e.showDialogDelete=!1}}})],1),o("v-dialog",{attrs:{"max-width":"450"},model:{value:e.showDialogUpload,callback:function(t){e.showDialogUpload=t},expression:"showDialogUpload"}},[o("app-codec-upload",{attrs:{codec:e.codecSelected},on:{closeDialog:function(t){e.showDialogUpload=!1}}})],1),o("v-dialog",{attrs:{"max-width":"400"},model:{value:e.showDialogShutdown,callback:function(t){e.showDialogShutdown=t},expression:"showDialogShutdown"}},[o("app-codec-shutdown",{attrs:{codec:e.codecSelected},on:{closeDialog:function(t){e.showDialogShutdown=!1}}})],1)],2):e._e()},O=[],A=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[o("v-list",{attrs:{"two-line":"",subheader:""}},[o("v-subheader",[e._v("Infos du codec")]),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Nom")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.name))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Type")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.type))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Adresse IP")]),o("v-list-tile-sub-title",[o("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"http://"+e.codec.ip}},[e._v(e._s(e.codec.ip))])])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Adresse MAC")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.mac))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Login")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.login))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Mot de passe")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.password))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Equipe")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.team))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Etage")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.floor))])],1)],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",[e._v("Proximity")]),o("v-list-tile-sub-title",[e._v(e._s(e.codec.proximity))])],1)],1)],1)],1),o("v-flex",{attrs:{xs12:"",sm5:"",md5:"","offset-md1":"","offset-sm1":""}},[o("v-list",{attrs:{"two-line":"",subheader:""}},[o("v-subheader",[e._v("Cochez les Applications souhaitées")]),o("v-list-tile",{on:{click:function(t){e.updateCodec({id:e.codec._id,propName:"peoplePresence",value:e.codec.peoplePresence})}}},[o("v-list-tile-action",[o("v-checkbox",{model:{value:e.codec.peoplePresence,callback:function(t){e.$set(e.codec,"peoplePresence",t)},expression:"codec.peoplePresence"}})],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("Cisco People Presence")])],1)],1),o("v-list-tile",{on:{click:function(t){e.updateCodec({id:e.codec._id,propName:"feedbackMeeting",value:e.codec.feedbackMeeting})}}},[o("v-list-tile-action",[o("v-checkbox",{model:{value:e.codec.feedbackMeeting,callback:function(t){e.$set(e.codec,"feedbackMeeting",t)},expression:"codec.feedbackMeeting"}})],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("Feedback Meeting")])],1)],1),o("v-list-tile",{on:{click:function(t){e.updateCodec({id:e.codec._id,propName:"bulkWallpaperPush",value:e.codec.bulkWallpaperPush})}}},[o("v-list-tile-action",[o("v-checkbox",{model:{value:e.codec.bulkWallpaperPush,callback:function(t){e.$set(e.codec,"bulkWallpaperPush",t)},expression:"codec.bulkWallpaperPush"}})],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("Bulk Wallpaper Push")])],1)],1),o("v-list-tile",{on:{click:function(t){e.updateCodec({id:e.codec._id,propName:"alertBot",value:e.codec.alertBot})}}},[o("v-list-tile-action",[o("v-checkbox",{model:{value:e.codec.alertBot,callback:function(t){e.$set(e.codec,"alertBot",t)},expression:"codec.alertBot"}})],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("Alert Bot")])],1)],1)],1),o("v-alert",{attrs:{value:e.codec.error,type:"error"}},[e._v("\n        "+e._s(e.codec.error)+"\n      ")])],1)],1)],1)},E=[],j={props:["codec"],methods:{updateCodec:function(e){this.$store.dispatch("updateOneProp",e)}}},M=j,L=Object(v["a"])(M,A,E,!1,null,null,null),z=L.exports,F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Mettre à jour les infos du codec")]),o("v-card-text",{staticClass:"pl-5 pr-5"},[e.codecCopy?o("form",[o("v-text-field",{attrs:{label:"Nom",error:e.$v.codecCopy.name.$invalid},on:{blur:function(t){e.$v.codecCopy.name.$touch()}},model:{value:e.codecCopy.name,callback:function(t){e.$set(e.codecCopy,"name",t)},expression:"codecCopy.name"}}),o("v-text-field",{attrs:{label:"Type",error:e.$v.codecCopy.type.$invalid},on:{blur:function(t){e.$v.codecCopy.type.$touch()}},model:{value:e.codecCopy.type,callback:function(t){e.$set(e.codecCopy,"type",t)},expression:"codecCopy.type"}}),o("v-text-field",{attrs:{label:"Adresse IP",error:e.$v.codecCopy.ip.$invalid},on:{blur:function(t){e.$v.codecCopy.ip.$touch()}},model:{value:e.codecCopy.ip,callback:function(t){e.$set(e.codecCopy,"ip",t)},expression:"codecCopy.ip"}}),o("v-text-field",{attrs:{label:"Adresse MAC",error:e.$v.codecCopy.mac.$invalid},on:{blur:function(t){e.$v.codecCopy.mac.$touch()}},model:{value:e.codecCopy.mac,callback:function(t){e.$set(e.codecCopy,"mac",t)},expression:"codecCopy.mac"}}),o("v-text-field",{attrs:{label:"Login",error:e.$v.codecCopy.login.$invalid},on:{blur:function(t){e.$v.codecCopy.login.$touch()}},model:{value:e.codecCopy.login,callback:function(t){e.$set(e.codecCopy,"login",t)},expression:"codecCopy.login"}}),o("v-text-field",{attrs:{label:"Mot de passe",error:e.$v.codecCopy.password.$invalid},on:{blur:function(t){e.$v.codecCopy.password.$touch()}},model:{value:e.codecCopy.password,callback:function(t){e.$set(e.codecCopy,"password",t)},expression:"codecCopy.password"}}),o("v-select",{attrs:{items:e.teams,"item-text":"name","item-value":"id",label:"Equipe",outlined:""},model:{value:e.codecCopy.team,callback:function(t){e.$set(e.codecCopy,"team",t)},expression:"codecCopy.team"}}),o("v-select",{attrs:{items:e.floors,"item-text":"name","item-value":"id",label:"Etage",outlined:""},model:{value:e.codecCopy.floor,callback:function(t){e.$set(e.codecCopy,"floor",t)},expression:"codecCopy.floor"}}),o("v-slider",{attrs:{label:"Proximity Volume",max:e.max,min:e.min,"thumb-label":""},model:{value:e.codecCopy.proximity,callback:function(t){e.$set(e.codecCopy,"proximity",t)},expression:"codecCopy.proximity"}}),o("v-radio-group",{attrs:{row:""},model:{value:e.codecCopy.cloud,callback:function(t){e.$set(e.codecCopy,"cloud",t)},expression:"codecCopy.cloud"}},[o("v-radio",{attrs:{label:"Webex device",value:!0}}),o("v-radio",{attrs:{label:"On-Premise device",value:!1}})],1)],1):e._e()]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:e.closeDialog}},[e._v("\n      Annuler\n    ")]),o("v-btn",{attrs:{color:"success",flat:"flat",disabled:e.$v.$invalid},on:{click:e.submit}},[e._v("\n      Modifier\n    ")])],1)],1)},N=[],U=o("b5ae"),V={data:function(){return{codecCopy:null,codecId:null,min:0,max:70,teams:[{name:"Collaboration",id:"collab"},{name:"Commercial",id:"sale"},{name:"Data Center",id:"dc"}],floors:[{name:"1er étage",id:"1"},{name:"2ème étage",id:"2"},{name:"3ème étage",id:"3"}]}},props:["codec"],watch:{codec:function(e){this.codecCopy={name:this.codec.name,type:this.codec.type,ip:this.codec.ip,mac:this.codec.mac,login:this.codec.login,password:this.codec.password,cloud:this.codec.cloud,team:this.codec.team,floor:this.codec.floor,proximity:this.codec.proximity},this.codecId=this.codec._id}},methods:{closeDialog:function(){this.$emit("closeDialog")},submit:function(){if(!this.$v.$invalid){var e=[];for(var t in this.codecCopy)e.push({propName:t,value:this.codecCopy[t]});this.$store.dispatch("updateProps",{id:this.codecId,props:e}),this.closeDialog()}}},validations:{codecCopy:{name:{required:U["required"]},type:{required:U["required"]},ip:{required:U["required"]},mac:{required:U["required"]},login:{required:U["required"]},password:{required:U["required"]},team:{required:U["required"]},floor:{required:U["required"]},proximity:{required:U["required"]}}}},I=V,R=Object(v["a"])(I,F,N,!1,null,null,null),T=R.exports,W=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Etes-vous sûr de vouloir supprimer ce codec ?")]),o("v-card-text",[e._v("\n    Cette action est irréversible.\n  ")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:e.closeDialog}},[e._v("\n      Annuler\n    ")]),o("v-btn",{attrs:{color:"success",flat:"flat"},on:{click:e.deleteCodec}},[e._v("\n      Supprimer\n    ")])],1)],1)},B=[],H={props:["codec"],methods:{closeDialog:function(){this.$emit("closeDialog")},deleteCodec:function(){this.$store.dispatch("deleteCodec",this.codec),this.closeDialog()}}},Q=H,Z=Object(v["a"])(Q,W,B,!1,null,null,null),J=Z.exports,G=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Uploader un zip (macros, config)")]),o("v-card-text",{staticClass:"pl-5 pr-5 text-xs-center"},[o("vue-dropzone",{ref:"myVueDropzone",staticClass:"mb-3",attrs:{id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-success":e.dropzoneComplete}}),o("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loading},on:{click:e.restoreConfig}},[e._v("\n      Restaurer la config par défaut\n    ")]),e._l(e.results,function(t){return o("v-alert",{key:t,attrs:{value:!0,type:"success"}},[e._v("\n      "+e._s(t.Message)+"\n    ")])})],2),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:e.closeDialog}},[e._v("\n      Annuler\n    ")]),o("v-btn",{attrs:{color:"success",flat:"flat",loading:e.loading},on:{click:e.processQueue}},[e._v("\n      Uploader\n    ")])],1)],1)},K=[],X=o("92c3"),Y=o.n(X),ee=(o("1e3f"),o("3452")),te=o.n(ee),oe={props:["codec"],data:function(){return{loading:!1,results:null,timeout:0,dropzoneOptions:{url:"/codecs/uploadFile",addRemoveLinks:!0,thumbnailWidth:150,maxFilesize:10,maxFiles:1,autoProcessQueue:!1,dictDefaultMessage:"Déposer votre zip ici"}}},computed:{codecs:function(){return this.$store.getters.codecs}},methods:{restoreConfig:function(){var e=this;this.loading=!0,this.$store.dispatch("restoreConfig",{_id:this.codec._id}).then(function(t){e.results=t.data.result.Successes,e.loading=!1,setTimeout(function(){e.clear()},5e3)})},closeDialog:function(){this.clear(),this.$emit("closeDialog")},submit:function(){var e=this,t="http://websrv2:15161/uploads/"+this.$refs.myVueDropzone.getAcceptedFiles()[0].name;this.readFile(this.$refs.myVueDropzone.getAcceptedFiles()[0]).then(this.printHash).then(function(o){e.loading=!0,e.$store.dispatch("uploadZip",{_id:e.codec._id,filename:t,checksum:o}).then(function(t){e.results=t.data.result.Successes,e.loading=!1,setTimeout(function(){e.clear()},5e3)}).catch(function(e){alert(e)})})},clear:function(){this.results=null},readFile:function(e){var t=new FileReader;return new Promise(function(o,c){t.readAsBinaryString(e),t.addEventListener("load",function(){o(t.result)})})},printHash:function(e){return new Promise(function(t,o){t(te.a.SHA512(te.a.enc.Latin1.parse(e)).toString())})},dropzoneComplete:function(){this.submit()},processQueue:function(){this.$refs.myVueDropzone.processQueue()}},components:{vueDropzone:Y.a}},ce=oe,ie=(o("e525"),Object(v["a"])(ce,G,K,!1,null,null,null)),ae=ie.exports,ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Etes-vous sûr de vouloir éteindre ce codec ?")]),o("v-card-text",[e._v("\n    Vous devrez rallumer le codec manuellement.\n  ")]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:e.closeDialog}},[e._v("\n      Annuler\n    ")]),o("v-btn",{attrs:{color:"success",flat:"flat"},on:{click:e.shutdownCodec}},[e._v("\n      Eteindre\n    ")])],1)],1)},le=[],se={props:["codec"],methods:{closeDialog:function(){this.$emit("closeDialog")},shutdownCodec:function(){this.$store.dispatch("shutdownCodec",this.codec),this.closeDialog()}}},re=se,de=Object(v["a"])(re,ne,le,!1,null,null,null),ue=de.exports,pe={data:function(){return{codecSelected:null,showDialogEdit:!1,showDialogDelete:!1,showDialogUpload:!1,showDialogShutdown:!1}},components:{appCodecDetails:z,appCodecEdit:T,appCodecDelete:J,appCodecUpload:ae,appCodecShutdown:ue},computed:{codecs:function(){return this.$store.getters.codecs}},methods:{editCodec:function(e){this.codecSelected=e,this.showDialogEdit=!0},deleteCodec:function(e){this.codecSelected=e,this.showDialogDelete=!0},uploadZip:function(e){this.codecSelected=e,this.showDialogUpload=!0},shutdownCodec:function(e){this.codecSelected=e,this.showDialogShutdown=!0}}},fe=pe,ve=Object(v["a"])(fe,S,O,!1,null,null,null),me=ve.exports,he=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("Ajouter un codec")]),o("v-card-text",{staticClass:"pl-5 pr-5"},[o("form",[o("v-text-field",{attrs:{label:"Nom",error:e.$v.name.$error,outlined:""},on:{blur:function(t){e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),o("v-text-field",{attrs:{label:"Type",error:e.$v.type.$error,outlined:""},on:{blur:function(t){e.$v.type.$touch()}},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),o("v-text-field",{attrs:{label:"Adresse IP",error:e.$v.ip.$error,outlined:""},on:{blur:function(t){e.$v.ip.$touch()}},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),o("v-text-field",{attrs:{label:"Adresse MAC",error:e.$v.mac.$error,outlined:""},on:{blur:function(t){e.$v.mac.$touch()}},model:{value:e.mac,callback:function(t){e.mac=t},expression:"mac"}}),o("v-text-field",{attrs:{label:"Login",error:e.$v.login.$error,outlined:""},on:{blur:function(t){e.$v.login.$touch()}},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),o("v-text-field",{attrs:{label:"Mot de passe",error:e.$v.password.$error,outlined:""},on:{blur:function(t){e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),o("v-select",{attrs:{items:e.teams,"item-text":"name","item-value":"id",label:"Equipe",outlined:""},model:{value:e.team,callback:function(t){e.team=t},expression:"team"}}),o("v-select",{attrs:{items:e.floors,"item-text":"name","item-value":"id",label:"Etage",outlined:""},model:{value:e.floor,callback:function(t){e.floor=t},expression:"floor"}}),o("v-radio-group",{attrs:{row:""},model:{value:e.cloud,callback:function(t){e.cloud=t},expression:"cloud"}},[o("v-radio",{attrs:{label:"Webex device",value:!0}}),o("v-radio",{attrs:{label:"On-Premise device",value:!1}})],1)],1)]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"info",flat:"flat"},on:{click:e.closeDialog}},[e._v("\n      Annuler\n    ")]),o("v-btn",{attrs:{color:"success",flat:"flat",disabled:e.$v.$invalid},on:{click:e.submit}},[e._v("\n      Ajouter\n    ")])],1)],1)},be=[],ge={data:function(){return{name:"",type:"",ip:"",mac:"",login:"",password:"",cloud:!1,team:"",floor:"",teams:[{name:"Collaboration",id:"collab"},{name:"Commercial",id:"sale"},{name:"Data Center",id:"dc"}],floors:[{name:"1er étage",id:"1"},{name:"2ème étage",id:"2"},{name:"3ème étage",id:"3"}]}},methods:{closeDialog:function(){this.clearForm(),this.$emit("closeDialog")},clearForm:function(){this.name="",this.type="",this.ip="",this.mac="",this.login="",this.password="",this.cloud=!1,this.team="",this.floor="",this.$v.$reset()},submit:function(){if(!this.$v.$invalid){var e={name:this.name,type:this.type,ip:this.ip,mac:this.mac,login:this.login,password:this.password,cloud:this.cloud,team:this.team,floor:this.floor,proximity:0};this.$store.dispatch("addCodec",e),this.closeDialog()}}},validations:{name:{required:U["required"]},type:{required:U["required"]},ip:{required:U["required"]},mac:{required:U["required"]},login:{required:U["required"]},password:{required:U["required"]},team:{required:U["required"]},floor:{required:U["required"]}}},xe=ge,ye=Object(v["a"])(xe,he,be,!1,null,null,null),Ce=ye.exports,_e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.codecs?o("v-card",{attrs:{popout:""}},[o("v-card-title",{staticClass:"headline",staticStyle:{"justify-content":"center"}},[e._v("Live Proximity")]),o("v-container",[o("div",{staticStyle:{display:"flex"}},[o("v-icon",{staticStyle:{"padding-right":"3%","padding-left":"3%"},attrs:{color:e.iconColor}},[e._v("wifi_off")]),o("v-switch",{attrs:{label:"Régler à nulle la valeur de Proximity sur tous les endpoints du Showroom",color:e.iconColor},on:{change:function(t){e.switchChange(e.codecs)}},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}}),o("v-btn",{attrs:{color:"success",flat:"flat"},on:{click:function(t){e.submitAll(e.codecs),e.snackbar=!0}}},[o("v-icon",{attrs:{left:""}},[e._v("leak_add")]),e._v("\n        Modifier pour tous\n      ")],1)],1),e._l(e.codecs,function(t){return o("v-flex",{key:t._id,staticClass:"pa-4 elevation-1"},[o("div",{staticClass:"title",class:{"red--text":t.error},attrs:{slot:"header"},slot:"header"},[e._v("\n        "+e._s(t.name)+"\n      ")]),o("v-slider",{attrs:{label:"Proximity Volume","thumb-label":"",max:e.maxValue,min:e.minValue},model:{value:t.proximity,callback:function(o){e.$set(t,"proximity",o)},expression:"codec.proximity"}}),o("v-btn",{attrs:{color:"success",flat:"flat"},on:{click:function(o){e.submit(t),e.snackbar=!0}}},[o("v-icon",{attrs:{left:""}},[e._v("wifi")]),e._v("\n        Modifier\n      ")],1),o("v-btn",{attrs:{small:"",fab:"",color:"info",flat:"flat"},on:{click:function(o){e.max(t)}}},[e._v("\n        ON\n      ")]),o("v-btn",{attrs:{small:"",fab:"",color:"info",flat:"flat"},on:{click:function(o){e.min(t)}}},[e._v("\n        OFF\n      ")])],1)}),o("v-snackbar",{attrs:{color:"green",timeout:e.timeout},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[o("v-icon",{attrs:{left:""}},[e._v("send")]),e._v("\n      Requête envoyée avec succès\n    ")],1)],2)],1):e._e()},we=[],ke=o("a34a"),$e=o.n(ke),De=o("3040"),Pe={data:function(){return{codecCopy:null,codecId:null,snackbar:!1,timeout:2e3,switch1:!1,iconColor:"grey",minValue:0,maxValue:70}},methods:{max:function(e){e.proximity=70},min:function(e){e.proximity=0},switchChange:function(e){this.switch1?(this.iconColor="red",e.forEach(function(e){e.proximity=0})):(this.iconColor="grey",e.forEach(function(e){e.proximity=70}))},submit:function(e){this.codecCopy={name:e.name,type:e.type,ip:e.ip,mac:e.mac,login:e.login,password:e.password,cloud:e.cloud,team:e.team,floor:e.floor,proximity:e.proximity},this.codecId=e._id;var t=[];for(var o in this.codecCopy)t.push({propName:o,value:this.codecCopy[o]});this.$store.dispatch("updateProps",{id:this.codecId,props:t})},submitAll:function(){var e=Object(De["a"])($e.a.mark(function e(t){var o,c,i;return $e.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<t.length)){e.next=12;break}return c=t[o],console.log("request being sent"),this.submit(c),e.next=7,qe();case 7:i=e.sent,console.log(i+" for codec"+c.ip);case 9:o++,e.next=1;break;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},computed:{codecs:function(){return this.$store.getters.codecs}}};function qe(){return new Promise(function(e){setTimeout(function(){e("request sending")},100)})}var Se=Pe,Oe=Object(v["a"])(Se,_e,we,!1,null,null,null),Ae=Oe.exports,Ee={data:function(){return{showDialogAdd:!1,showDialogLive:!1}},components:{appCodecGrid:me,appCodecAdd:Ce,appCodecLive:Ae},created:function(){this.$store.dispatch("fetchCodecs")}},je=Ee,Me=(o("6f60"),Object(v["a"])(je,P,q,!1,null,null,null)),Le=Me.exports,ze=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h1",[e._v("Sign in page")])},Fe=[],Ne={},Ue=Ne,Ve=(o("11fc"),Object(v["a"])(Ue,ze,Fe,!1,null,null,null)),Ie=Ve.exports;c["default"].use(D["a"]);var Re=new D["a"]({mode:"history",routes:[{path:"/dashboard",component:Le,name:"dashboard"},{path:"/signin",component:Ie,name:"signin"},{path:"*",redirect:{name:"dashboard"}}]}),Te=o("2f62"),We=o("bc3a"),Be=o.n(We);c["default"].use(Te["a"]);var He=new Te["a"].Store({state:{codecs:[]},mutations:{setCodecs:function(e,t){e.codecs=t},updateOneProp:function(e,t){var o=e.codecs.findIndex(function(e){return e._id===t.id});e.codecs[o][t.propName]=t.value},deleteCodec:function(e,t){var o=e.codecs.findIndex(function(e){return e._id===t});e.codecs.splice(o,1)},addCodec:function(e,t){e.codecs.push(t)}},actions:{fetchCodecs:function(e){var t=e.commit;Be.a.get("/codecs").then(function(e){t("setCodecs",e.data.codecs)}).catch(function(e){alert(e)})},updateOneProp:function(e,t){var o=e.commit;Be.a.patch("/codecs/"+t.id,[{propName:t.propName,value:t.value}]).then(function(e){200===e.status&&o("updateOneProp",t)}).catch(function(e){alert(e)})},updateProps:function(e,t){var o=e.commit;Be.a.patch("/codecs/"+t.id,t.props).then(function(e){if(200===e.status)for(var c in t.props)o("updateOneProp",{id:t.id,propName:t.props[c].propName,value:t.props[c].value})}).catch(function(e){alert("L'adresse MAC est déjà utilisée.")})},deleteCodec:function(e,t){var o=e.commit;Be.a.delete("/codecs/"+t._id).then(function(e){200===e.status&&o("deleteCodec",t._id)}).catch(function(e){alert(e)})},shutdownCodec:function(e,t){var o=e.commit;Be.a.get("/codecs/shutdown/"+t._id).then(function(e){200===e.status&&o("shutdownCodec",t._id)}).catch(function(e){alert(e)})},proximityCodec:function(e,t){var o=e.commit;Be.a.post("/codecs/proximity/"+t.codec._id,t.proximityValue).then(function(e){200===e.status&&o("proximityCodec",{codec:t.codec._id,proximityValue:t.proximityValue})}).catch(function(e){alert(e)})},addCodec:function(e,t){var o=e.commit;Be.a.post("/codecs/",t).then(function(e){201===e.status&&o("addCodec",e.data.codec)}).catch(function(e){alert("L'adresse MAC est déjà utilisée.")})},uploadZip:function(e,t){e.commit;return Be.a.post("/codecs/uploadTo",t)},restoreConfig:function(e,t){e.commit;return Be.a.get("/codecs/restoreConfig/"+t._id)}},getters:{codecs:function(e){return e.codecs}}});c["default"].config.productionTip=!1,Be.a.defaults.baseURL="",new c["default"]({router:Re,store:He,render:function(e){return e($)}}).$mount("#app")},"69de":function(e,t,o){},"6f60":function(e,t,o){"use strict";var c=o("69de"),i=o.n(c);i.a},ae0b:function(e,t,o){},b9ef:function(e,t,o){},cf05:function(e,t,o){e.exports=o.p+"img/logo.0881e587.png"},daad:function(e,t,o){},e525:function(e,t,o){"use strict";var c=o("daad"),i=o.n(c);i.a}});
//# sourceMappingURL=app.071e9e9d.js.map